angular.module("templates/kiosk-nav.html",[]).run(["$templateCache",function(a){a.put("templates/kiosk-nav.html",'<nav>\n	<ul>\n		<li ng-repeat="topic in coordinator.topics">\n			<a href="{{topic.url}}">{{topic.title}}</a>\n		</li>\n	</ul>\n</nav>')}]),angular.module("templates/kiosk.html",[]).run(["$templateCache",function(a){a.put("templates/kiosk.html",'<div ng-class="state">\n	<ul>\n		<li ng-repeat="slide in coordinator.slides" ng-bind-html="slide.content">\n		</li>\n	</ul>\n	<div ng-transclude></div>\n</div>\n')}]),angular.module("ng-kiosk",["ngSanitize","ng-kiosk.mapping","templates/kiosk.html","templates/kiosk-nav.html"]).directive("kiosk",[function(){return{restrict:"E",controller:"KioskController",templateUrl:"templates/kiosk.html",replace:!0,transclude:!0,scope:{src:"@"}}}]).controller("KioskController",["$scope","$http","map","Coordinator",function(a,b,c,d){if(a.coordinator=d,!a.src)throw new Error("kiosk src attribute not set");b.get(a.src).then(function(c){return a.setKiosk(c.data),b.get(a.kiosk._links.topic.href)}).then(function(c){return a.setTopics(c.data),b.get(a._topics._embedded.topic[0]._links.slide.href)}).then(function(b){a.setSlides(b.data),a.setState("is-ready")}).catch(function(){a.setState("is-error")}),a.setKiosk=function(b){a.kiosk=b},a.setTopics=function(b){a._topics=b,a.coordinator.setTopics(c.topics(b))},a.setSlides=function(b){a._slides=b,a.coordinator.setSlides(c.slides(b))},a.setState=function(b){a.state=b,a.$broadcast("kiosk:"+b),a.$emit("kiosk:"+b)},a.setState("is-initializing")}]).directive("kioskNav",["Coordinator",function(a){return{require:"^kiosk",restrict:"E",replace:!0,controller:["$scope",function(b){b.coordinator=a}],templateUrl:"templates/kiosk-nav.html"}}]),angular.module("ng-kiosk").factory("Coordinator",[function(){return{setTopics:function(a){this.topics=a},setSlides:function(a){this.slides=a}}}]),angular.module("ng-kiosk.mapping",[]).factory("map",function(){return{topics:function(a){return a._embedded.topic.map(function(a){return{title:a.title,url:a._links.self.href}})},slides:function(a){return a._embedded.slide.map(function(a){return{content:a.content}})}}});